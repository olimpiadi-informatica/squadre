{"version":3,"file":"static/chunks/app/edition/[editionId]/round/[roundId]/page-cf3c49c2c4a4cb6d.js","mappings":"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","sources":["webpack://_N_E/?af46","webpack://_N_E/./node_modules/next/dist/api/link.js","webpack://_N_E/../../../src/shared/lib/app-dynamic.tsx","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.tsx","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/loadable.tsx","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/preload-css.tsx","webpack://_N_E/./src/app/edition/[editionId]/round/[roundId]/table.tsx","webpack://_N_E/./src/components/region.tsx","webpack://_N_E/./src/components/score.tsx","webpack://_N_E/./node_modules/next/dist/api/app-dynamic.js","webpack://_N_E/./src/components/table.tsx","webpack://_N_E/./src/components/table.module.css"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/home/runner/work/squadre/squadre/node_modules/@olinfo/react-components/dist/index.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/squadre/squadre/node_modules/next/dist/client/link.js\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"RoundTable\"] */ \"/home/runner/work/squadre/squadre/src/app/edition/[editionId]/round/[roundId]/table.tsx\");\n","export { default } from \"../client/link\";\nexport * from \"../client/link\";\n\n//# sourceMappingURL=link.js.map",null,null,null,null,"\"use client\";\n\nimport Link from \"next/link\";\nimport { createContext, useContext } from \"react\";\n\nimport { RegionImage } from \"~/components/region\";\nimport { Score } from \"~/components/score\";\nimport { Table } from \"~/components/table\";\nimport type { Round } from \"~/lib/round\";\n\nconst RoundContext = createContext<Round | undefined>(undefined);\n\nexport function RoundTable({ round }: { round: Round }) {\n  return (\n    <RoundContext.Provider value={round}>\n      <Table\n        data={round.ranking}\n        header={TableHeaders}\n        row={TableRow}\n        className=\"grid-cols-[repeat(5,auto)_repeat(var(--cols),4rem)_4.5rem]\"\n      />\n    </RoundContext.Provider>\n  );\n}\n\nfunction TableHeaders() {\n  const round = useContext(RoundContext)!;\n  return (\n    <>\n      <div>Rank</div>\n      <div>Reg. rank</div>\n      <div>Teams</div>\n      <div>Institute</div>\n      <div>Region</div>\n      <div>Total</div>\n      {round.tasks.map((task) => (\n        <div key={task.name}>\n          <Link\n            href={`/edition/${round.ed_num}/round/${round.id}/${task.name}`}\n            className=\"link block w-full truncate\">\n            {task.name}\n          </Link>\n        </div>\n      ))}\n    </>\n  );\n}\n\nfunction TableRow({ item: team }: { item: Round[\"ranking\"][number] }) {\n  const round = useContext(RoundContext)!;\n\n  return (\n    <>\n      <div>{team.rank}</div>\n      <div>{team.rank_reg}</div>\n      <div className=\"min-w-32 text-wrap text-sm\">\n        <Link href={`/edition/${round.ed_num}/team/${team.team.id}`} className=\"link\">\n          {team.team.name}\n        </Link>\n      </div>\n      <div className=\"min-w-48 text-wrap text-sm\">\n        <Link href={`/region/${team.team.region}/${team.team.inst_id}`} className=\"link\">\n          {team.team.institute}\n        </Link>\n      </div>\n      <div>\n        <Link href={`/region/${team.team.region}`}>\n          <RegionImage id={team.team.region} name={team.team.fullregion} className=\"inline-block\" />\n        </Link>\n      </div>\n      <div>{team.total}</div>\n      {team.scores.map((score, i) => (\n        <Score key={i} score={score} maxScore={100} className=\"min-w-16\" />\n      ))}\n    </>\n  );\n}\n","import clsx from \"clsx\";\n\nexport function RegionImage({\n  id,\n  name,\n  className,\n}: {\n  id: string;\n  name: string;\n  className?: string;\n}) {\n  return (\n    <img\n      src={`/images/regions/${id.toUpperCase()}.svg`}\n      alt={`Flag of ${name}`}\n      className={clsx(\"size-8 object-contain\", className)}\n    />\n  );\n}\n","import clsx from \"clsx\";\n\nexport function Score({\n  score,\n  maxScore,\n  className,\n}: {\n  score: number;\n  maxScore: number;\n  className?: string;\n}) {\n  const percent = Math.floor((score / maxScore) * 100);\n\n  return (\n    <span\n      className={clsx(\"block rounded-box text-black border border-black/10\", className, {\n        \"font-bold\": percent === 100,\n        \"bg-emerald-600\": percent > 90,\n        \"bg-emerald-500\": percent > 75 && percent <= 90,\n        \"bg-emerald-400\": percent > 60 && percent <= 75,\n        \"bg-emerald-300\": percent > 45 && percent <= 60,\n        \"bg-emerald-200\": percent > 30 && percent <= 45,\n        \"bg-emerald-100\": percent > 15 && percent <= 30,\n        \"bg-emerald-50\": percent <= 15,\n      })}>\n      {score}\n    </span>\n  );\n}\n","export * from \"../shared/lib/app-dynamic\";\nexport { default } from \"../shared/lib/app-dynamic\";\n\n//# sourceMappingURL=app-dynamic.js.map","import dynamic from \"next/dynamic\";\nimport type { ComponentType } from \"react\";\n\nimport clsx from \"clsx\";\n\nimport style from \"./table.module.css\";\n\nexport type TableProps<T> = {\n  data: T[];\n  header: ComponentType<{ context?: never }>;\n  row: ComponentType<{ item: T }>;\n  className?: string;\n};\n\nconst LargeTable = dynamic(() => import(\"~/components/table-large\"), { ssr: false });\n\nfunction SmallTable<T>({ data, header: Header, row: Row, className }: TableProps<T>) {\n  return (\n    <div className={style.outerContainer}>\n      <div className={clsx(style.innerContainer, \"w-min\")}>\n        <div className={clsx(style.scroller, \"w-min\", className)}>\n          <div className=\"w-min\">\n            <div>\n              <Header />\n            </div>\n            <div className={style.list}>\n              {data.map((item, i) => (\n                <div key={i} className={style.item}>\n                  <Row item={item} />\n                </div>\n              ))}\n            </div>\n            <div />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function Table<T>(props: TableProps<T>) {\n  return props.data.length >= 20 ? (\n    <LargeTable {...(props as TableProps<any>)} />\n  ) : (\n    <SmallTable<T> {...props} />\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outerContainer\":\"table_outerContainer__mAPsd\",\"innerContainer\":\"table_innerContainer__pk0tB\",\"scroller\":\"table_scroller__Qv6IK\",\"list\":\"table_list__XtHL_\",\"item\":\"table_item__KEkbM\"};"],"names":["Promise","resolve","then","__webpack_require__","bind","t","dynamic","dynamicOptions","options","mergedOptions","loadableOptions","loading","error","isLoading","pastDelay","param","loader","Loadable","modules","loadableGenerated","_bailouttocsr","require","BailoutToCSR","children","reason","window","BailoutToCSRError","_default","convertModule","mod","default","hasDefault","defaultOptions","ssr","opts","Lazy","lazy","Loading","LoadableComponent","props","fallbackElement","_jsxruntime","jsx","jsxs","Fragment","PreloadCss","moduleIds","Suspense","fallback","displayName","_requestasyncstorageexternal","allFiles","getExpectedRequestStore","requestStore","manifest","reactLoadableManifest","key","cssFiles","push","length","map","file","rel","href","as","assetPrefix","encodeURI","RoundContext","createContext","undefined","RoundTable","round","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","Provider","value","Table","data","ranking","header","TableHeaders","row","TableRow","className","useContext","div","tasks","Link","ed_num","task","id","concat","name","item","team","rank","rank_reg","region","inst_id","institute","RegionImage","fullregion","total","scores","score","i","Score","maxScore","img","src","toUpperCase","alt","clsx","percent","Math","floor","span","LargeTable","all","e","SmallTable","Header","Row","jsx_runtime","style","module","exports"],"sourceRoot":""}